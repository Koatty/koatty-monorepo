{
  "project": "Koatty Monorepo 版本管理系统优化",
  "created_at": "2026-01-28T12:00:00Z",
  "updated_at": "2026-01-28T13:10:00Z",
  "features": [
    {
      "id": 1,
      "name": "修复 koatty_core 的依赖声明",
      "description": "将 koatty_container (^1.x.x), koatty_lib (^1.x.x), koatty_logger (^2.x.x) 改为 workspace:*",
      "status": "completed",
      "priority": "high",
      "dependencies": [],
      "notes": "已将 koatty_container, koatty_lib, koatty_logger 改为 workspace:*"
    },
    {
      "id": 2,
      "name": "修复 koatty_container 的依赖声明",
      "description": "将 koatty_lib (^1.x.x), koatty_logger (^2.x.x) 改为 workspace:*",
      "status": "completed",
      "priority": "high",
      "dependencies": [],
      "notes": "已将 dependencies 和 peerDependencies 中的 koatty_lib, koatty_logger 改为 workspace:*"
    },
    {
      "id": 3,
      "name": "修复 koatty_exception 的依赖声明",
      "description": "将 koatty_container (^1.x.x), koatty_lib (^1.x.x), koatty_logger (^2.x.x) 改为 workspace:*",
      "status": "completed",
      "priority": "high",
      "dependencies": [],
      "notes": "已将 koatty_container, koatty_lib, koatty_logger 改为 workspace:*"
    },
    {
      "id": 4,
      "name": "验证所有包的依赖声明一致性",
      "description": "检查所有内部包是否都使用 workspace:*，输出验证报告",
      "status": "completed",
      "priority": "high",
      "dependencies": [
        1,
        2,
        3
      ],
      "notes": "✅ 验证通过：所有17个内部包的依赖声明都使用了 workspace:*，共修复了12个包"
    },
    {
      "id": 5,
      "name": "修改 changeset 配置",
      "description": "移除 .changeset/config.json 中的 ignore 列表，允许 koatty 参与版本管理",
      "status": "completed",
      "priority": "high",
      "dependencies": [],
      "notes": "已移除 .changeset/config.json 中的 ignore 列表，允许 koatty 参与版本管理"
    },
    {
      "id": 6,
      "name": "清理子包的发布脚本",
      "description": "移除各包的 release, release:pre, release:major, release:minor 脚本",
      "status": "completed",
      "priority": "medium",
      "dependencies": [],
      "notes": "已清理10个包的发布脚本：koatty_graphql, koatty_loader, koatty_store, koatty_validation, koatty_cacheable, koatty_schedule, koatty_lib, koatty_logger, koatty_container, koatty_proto"
    },
    {
      "id": 7,
      "name": "创建依赖验证脚本",
      "description": "创建脚本检查 workspace:* 依赖的完整性和版本号同步",
      "status": "completed",
      "priority": "medium",
      "dependencies": [
        4
      ],
      "notes": "已创建 scripts/validate-dependencies.js，验证通过：所有17个内部包的依赖声明都使用了 workspace:*"
    },
    {
      "id": 8,
      "name": "创建发布前检查脚本",
      "description": "验证构建顺序、changelog 生成等发布前检查项",
      "status": "completed",
      "priority": "medium",
      "dependencies": [
        5
      ],
      "notes": "已创建 scripts/pre-release-check.js，包含5项检查：依赖一致性、工作区状态、changeset文件、构建产物、版本号同步"
    },
    {
      "id": 9,
      "name": "测试构建流程",
      "description": "运行 pnpm build，验证所有包构建成功",
      "status": "completed",
      "priority": "low",
      "dependencies": [
        4,
        6
      ],
      "notes": "✅ 所有17个包构建成功！修复了 koatty 包的 copyfiles 问题：创建了 scripts/copyFiles.js 替代 copyfiles 命令"
    },
    {
      "id": 10,
      "name": "测试版本更新流程",
      "description": "创建测试 changeset，运行 pnpm changeset version，验证版本号更新",
      "status": "completed",
      "priority": "low",
      "dependencies": [
        5,
        9
      ],
      "notes": "✅ 验证成功：changeset version 命令执行成功，版本号正确更新（koatty_lib: 1.4.1→1.4.2, koatty_container: 1.17.0→1.17.1）"
    }
  ]
}